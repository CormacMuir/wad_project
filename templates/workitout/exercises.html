{% extends 'workitout/base.html' %}
{% load staticfiles %}
{% block title_block %}
    All Exercises
{% endblock %}

{% block body_block %}


<style>
    .search-bar{
        color: rgb(82, 160, 196);
    }
    .card-body{
        padding: 20px;
        width: 90%;
    } 
    #check-column-1{
        float:left;
    }
    #check-column-2{
        float:left;
    }
    #check-column-3{
        float:left;
    }

</style>

<div class="card m-5 mx-auto">
    <div class="search-bar m-3">
        <form method="get">
            <p><h4>Specifiy an Exercise, Muscle Group, or Difficulty here </h4></p>
            <input type="text" class="form-control" name="q" id="id_q" placeholder="Search...">
        </form>
    </div>
</div>

<!-- Matthew added -->
<div>
    <form method="get" action="/workitout/exercises">
        <div class="check-cloumn-1">
            {% for mg in muscle_groups %}
                {% if mg in filters %}
                <div id="ck-button">
                    <input type="checkbox" id="{{ mg.name }}" name="{{ mg.name }}" value="" checked>
                    <label for="{{ mg.name }}">{{ mg.name|title }}</label><br>
                </div>
                {% else %}
                <div id="ck-button">
                    <input type="checkbox" id="{{ mg.name }}" name="{{ mg.name }}" value="">
                    <label for="{{ mg.name }}">{{ mg.name|title }}</label><br>
                </div>
                {% endif %}
            {% endfor %}
        </div>

        <div class="check-cloumn-2">
            {% for eq in equipment %}
                {% if eq in filters %}
                    <div id="ck-button">
                        <input type="checkbox" id="{{ eq.slug }}" name="{{ eq.slug }}" value="" checked>
                        <label for="{{ eq.name }}">{{ eq.name|title }}</label><br>
                    </div>
                {% else %}
                    <div id="ck-button">
                        <input type="checkbox" id="{{ eq.slug }}" name="{{ eq.slug }}" value="">
                        <label for="{{ eq.name }}">{{ eq.name|title }}</label><br>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        <div class="check-cloumn-3">
            {% for type in types %}
                {% if type in filters %}
                    <div id="ck-button">
                        <input type="checkbox" id="{{ type }}" name="{{ type }}" value="" checked>
                        <label for="{{ type }}">{{ type|title }}</label><br>
                    </div>
                {% else %}
                    <div id="ck-button">
                        <input type="checkbox" id="{{ type }}" name="{{ type }}" value="">
                        <label for="{{ type }}">{{ type|title }}</label><br>
                    </div>
                {% endif %}
            {% endfor %}
            <input type="submit" value="Filter">
            <input type="reset">
        </div>
        
    </form>
</div>

{% if exercises %}

    <div class="card-columns m-5">
        
        {% for ex in exercises %}

                <a href="/workitout/exercise/{{ ex.slug }}/">

                    <!--Put snippet here-->
                    {% include 'workitout/snippets/exercise_snippet.html' with exercise=ex %}

                </a>

        {% endfor %}

    </div>

{% else %}

    <div>   
        <!--Put snippet here-->
        {% include 'workitout/snippets/exercise_snippet.html' with query=query %}
    </div>

{% endif %}



<!--Java script to help with the search function-->

<script type="text/javascript">

    document.getElementById("id_q").value = "{{query}}"

</script>




{% endblock %}
